<!doctype html>
<html>
<head>
<script type="text/javascript">
 window.onload=function(){
     var bt1=document.getElementById("bt1");
     var div1=document.getElementById("div1");
     //给bt1绑定事件，一会做onload完毕以后装在数据
     bt1.onclick=function(){
         //第一步：创建ajax对象
         //写兼容
         if(window.XMLHttpRequest){
             var xmlHttp=new XMLHttpRequest();
             }else{
                               //兼容IE6
                 var xmlHttp=new ActiveXObject("Microsoft.XMLHTTP")
                 }
         //第二步：获取要放送的数据。这个例子没有
         //第三步：设置一下要发送的方式和请求目标地址
         var url = "http://localhost:8080/cure/hostlist"
         xmlHttp.open("POST",url);
         //第三个参数不写默认是异步
         
         //第四步：设置请求的编码
         xmlHttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
                  
         //第五步：监控整个过程，绑定onreadystatechange事件
         xmlHttp.onreadystatechange=function(){
                 //后台数据输出什么，我们的responseText就得到什么
                 var tmp = eval("("+xmlHttp.responseText+")"); 
            div1.innerHTML=xmlHttp.responseText;
            console.log(xmlHttp.responseText);
            }
                      
        //第六步：发送请求
        xmlHttp.send();
                 
             };

         };         

</script>
<meta charset="utf-8">
<style>
 #div1{
     background:#f00;
     color:#fff;
     font-weight:bold;
     width:200px;
     height:200px;
     }
img{
    width:200px;
    }
</style>
<title>ajax</title>
</head>
<div id="div1">
  <!--在数据没有过来的时候，我们显示一张loading的图片，百度搜loading一大推-->
  <img src="p/timg.gif"> 
</div><br>
<input type="button" id="bt1" value="点击获取数据">
<body>
</body>
</html>